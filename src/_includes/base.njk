<!DOCTYPE html>
<html lang="en" data-updated="{{ page.date }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {% if page.fileSlug == 'season' %}
    <title>The Pitwall - {{ year }} Season</title>
  {% else %}
    <title>The Pitwall</title>
  {% endif %}

  <link rel="icon" type="image/png" href="/images/favicon.png">
  <meta name="description" content="Explore the historical records of the Formula 1 World Championship">

  <link rel="stylesheet" href="/css/pitwall.css">

  {% block head %}
  {% endblock %}

</head>
<body>

<div id="page">
  {% include 'partials/PageHeader.njk' %}

  <main class="data-area">

    {% if pitwall.races[year] | length > 0 %}

      {% include 'partials/Nav.njk' %}

      <section class="race-grid content-container content-tab" aria-hidden="false" role="tabpanel" aria-labelledby="race-results-button">
        {% for race in pitwall.races[year] %}

          {% include 'partials/RaceTable.njk' %}
        
        {% endfor %}
      </section>

      <section class="standings-data content-container content-tab" aria-hidden="true" role="tabpanel" aria-labelledby="standings-button">

        {% include 'partials/DriversStandings.njk' %}

        {% include 'partials/ConstructorsStandings.njk' %}

      </section>

    {% elif year == currentDate %}

      <section class="content-container message-content">

        <h2>The {{ year }} season has not started yet. Come back after the first race.</h2>

        <p>In the meantime, here is the schedule of races for {{ year }}</p>

        {{ pitwall.currentSchedule | log }}

        <ul class="schedule-list">

        {% for race in pitwall.currentSchedule.Races %}

          <li class="schedule-item">
            <div class="schedule-round"><span>Round</span>{{ race.round }}</div>
            <div class="schedule-race">{{ race.raceName }}</div>
            <div class="schedule-location">{{ race.Circuit.circuitName }} • {{ race.Circuit.Location.locality }}, {{ race.Circuit.Location.country }}</div>
            <time class="schedule-date">{% formatDate race.date %}</time>
          </li>

        {% endfor %}

        </ul>


      </section>

    {% endif %}
  </main>

  {% include "partials/PageFooter.njk" %}

</div>

<script src="/js/main.js" defer></script>

</body>
</html>